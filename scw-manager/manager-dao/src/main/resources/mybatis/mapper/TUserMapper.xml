<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.smart.scw.manager.dao.TUserMapper">
    <resultMap id="userMap" type="com.smart.scw.manager.bean.TUser">
        <id column="id" jdbcType="INTEGER" property="id"/>
        <result column="loginacct" jdbcType="VARCHAR" property="loginacct"/>
        <result column="userpswd" jdbcType="CHAR" property="userpswd"/>
        <result column="username" jdbcType="VARCHAR" property="username"/>
        <result column="email" jdbcType="VARCHAR" property="email"/>
        <result column="createtime" jdbcType="CHAR" property="createtime"/>
        <result column="salt" jdbcType="VARCHAR" property="salt"/>
    </resultMap>

    <select id="findTUserByLoginacct" resultType="java.lang.Integer">
        SELECT COUNT(1) FROM t_user
        WHERE loginacct=#{loginacct}
    </select>

    <select id="findTuserByEmail" resultType="java.lang.Integer">
        SELECT COUNT(1) FROM t_user
        WHERE email=#{email}
    </select>

    <insert id="insertTUser">
        INSERT INTO t_user
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="loginacct!=null and loginacct!=''">
                loginacct,
            </if>
            <if test="userpswd!=null and userpswd!=''">
                userpswd,
            </if>
            <if test="username!=null and username!=''">
                username,
            </if>
            <if test="email!=null and email!=''">
                email,
            </if>
            <if test="createtime!=null and createtime!=''">
                createtime,
            </if>
            <if test="salt!=null and salt!=''">
                salt,
            </if>
        </trim>
        VALUES
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="loginacct!=null and loginacct!=''">
                #{loginacct},
            </if>
            <if test="userpswd!=null and userpswd!=''">
                #{userpswd},
            </if>
            <if test="username!=null and username!=''">
                #{username},
            </if>
            <if test="email!=null and email!=''">
                #{email},
            </if>
            <if test="createtime!=null and createtime!=''">
                #{createtime},
            </if>
            <if test="salt!=null and salt!=''">
                #{salt},
            </if>
        </trim>
    </insert>

</mapper>